{
	"title": "My Favorite Rules",
	"_comments":{
		"variables": {
			"emacs_mode_markset": "marksetモードのときに1になる変数"
		}
	},
	"rules": [
		{
			"description": "Control+P/N/B/F to Up/Down/Left/Right",
			"manipulators": [
				{
					"_comment": "Cntrol+P to Up (When markset mode is disabled)",
					"type": "basic",
					"conditions": [
						{
							"type": "variable_unless",
							"name": "emacs_mode_markset",
							"value": 1
						}
					],
					"from": {
						"key_code": "p",
						"modifiers": {"mandatory": ["control"], "optional": ["caps_lock"]}
					},
					"to": [
						{
							"key_code": "up_arrow"
						}
					]
				},
				{
					"_comment": "Cntrol+N to Down (When markset mode is disabled)",
					"type": "basic",
					"conditions": [
						{
							"type": "variable_unless",
							"name": "emacs_mode_markset",
							"value": 1
						}
					],
					"from": {
						"key_code": "n",
						"modifiers": {"mandatory": ["control"], "optional": ["caps_lock"]}
					},
					"to": [
						{
							"key_code": "down_arrow"
						}
					]
				},
				{
					"_comment": "Cntrol+B to Left (When markset mode is disabled)",
					"type": "basic",
					"conditions": [
						{
							"type": "variable_unless",
							"name": "emacs_mode_markset",
							"value": 1
						}
					],
					"from": {
						"key_code": "b",
						"modifiers": {"mandatory": ["control"], "optional": ["caps_lock"]}
					},
					"to": [
						{
							"key_code": "left_arrow"
						}
					]
				},
				{
					"_comment": "Cntrol+F to Right (When markset mode is disabled)",
					"type": "basic",
					"conditions": [
						{
							"type": "variable_unless",
							"name": "emacs_mode_markset",
							"value": 1
						}
					],
					"from": {
						"key_code": "f",
						"modifiers": {"mandatory": ["control"], "optional": ["caps_lock"]}
					},
					"to": [
						{
							"key_code": "right_arrow"
						}
					]
				},
				{
					"_comment": "Cntrol+P to Shift+Up (When markset mode is enabled)",
					"type": "basic",
					"conditions": [
						{
							"type": "variable_if",
							"name": "emacs_mode_markset",
							"value": 1
						}
					],
					"from": {
						"key_code": "p",
						"modifiers": {"mandatory": ["control"], "optional": ["caps_lock"]}
					},
					"to": [
						{
							"modifiers": ["left_shift"],
							"key_code": "up_arrow"
						}
					]
				},
				{
					"_comment": "Cntrol+N to Shift+Down (When markset mode is enabled)",
					"type": "basic",
					"conditions": [
						{
							"type": "variable_if",
							"name": "emacs_mode_markset",
							"value": 1
						}
					],
					"from": {
						"key_code": "n",
						"modifiers": {"mandatory": ["control"], "optional": ["caps_lock"]}
					},
					"to": [
						{
							"modifiers": ["left_shift"],
							"key_code": "down_arrow"
						}
					]
				},
				{
					"_comment": "Cntrol+B to Shift+Left (When markset mode is enabled)",
					"type": "basic",
					"conditions": [
						{
							"type": "variable_if",
							"name": "emacs_mode_markset",
							"value": 1
						}
					],
					"from": {
						"key_code": "b",
						"modifiers": {"mandatory": ["control"], "optional": ["caps_lock"]}
					},
					"to": [
						{
							"modifiers": ["left_shift"],
							"key_code": "left_arrow"
						}
					]
				},
				{
					"_comment": "Cntrol+F to Shift+Right (When markset mode is enabled)",
					"type": "basic",
					"conditions": [
						{
							"type": "variable_if",
							"name": "emacs_mode_markset",
							"value": 1
						}
					],
					"from": {
						"key_code": "f",
						"modifiers": {"mandatory": ["control"], "optional": ["caps_lock"]}
					},
					"to": [
						{
							"modifiers": ["left_shift"],
							"key_code": "right_arrow"
						}
					]
				}
			]
		},
		{
			"description": "Option+B/F to Option+Left/Right",
			"manipulators": [
				{
					"_comment": "Option+B to Option+Left (When markset mode is disabled)",
					"type": "basic",
					"conditions": [
						{
							"type": "variable_unless",
							"name": "emacs_mode_markset",
							"value": 1
						}
					],
					"from": {
						"key_code": "b",
						"modifiers": {"mandatory": ["option"], "optional": ["caps_lock"]}
					},
					"to": [
						{
							"modifiers": ["left_option"],
							"key_code": "left_arrow"
						}
					]
				},
				{
					"_comment": "Option+F to Option+Right (When markset mode is disabled)",
					"type": "basic",
					"conditions": [
						{
							"type": "variable_unless",
							"name": "emacs_mode_markset",
							"value": 1
						}
					],
					"from": {
						"key_code": "f",
						"modifiers": {"mandatory": ["option"], "optional": ["caps_lock"]}
					},
					"to": [
						{
							"modifiers": ["left_option"],
							"key_code": "right_arrow"
						}
					]
				},
				{
					"_comment": "Option+B to Shift+Option+Left (When markset mode is enabled)",
					"type": "basic",
					"conditions": [
						{
							"type": "variable_if",
							"name": "emacs_mode_markset",
							"value": 1
						}
					],
					"from": {
						"key_code": "b",
						"modifiers": {"mandatory": ["option"], "optional": ["caps_lock"]}
					},
					"to": [
						{
							"modifiers": ["left_shift", "left_option"],
							"key_code": "left_arrow"
						}
					]
				},
				{
					"_comment": "Option+F to Shift+Option+Right (When markset mode is enabled)",
					"type": "basic",
					"conditions": [
						{
							"type": "variable_if",
							"name": "emacs_mode_markset",
							"value": 1
						}
					],
					"from": {
						"key_code": "f",
						"modifiers": {"mandatory": ["option"], "optional": ["caps_lock"]}
					},
					"to": [
						{
							"modifiers": ["left_shift", "left_option"],
							"key_code": "right_arrow"
						}
					]
				}
			]
		},
		{
			"description": "Control+A/E to Command+Left/Right",
			"manipulators": [
				{
					"_comment": "Cntrol+A to Command+Left (When markset mode is disabled)",
					"type": "basic",
					"conditions": [
						{
							"type": "variable_unless",
							"name": "emacs_mode_markset",
							"value": 1
						}
					],
					"from": {
						"key_code": "a",
						"modifiers": {"mandatory": ["control"], "optional": ["caps_lock"]}
					},
					"to": [
						{
							"modifiers": ["left_command"],
							"key_code": "left_arrow"
						}
					]
				},
				{
					"_comment": "Cntrol+E to Command+Right (When markset mode is disabled)",
					"type": "basic",
					"conditions": [
						{
							"type": "variable_unless",
							"name": "emacs_mode_markset",
							"value": 1
						}
					],
					"from": {
						"key_code": "e",
						"modifiers": {"mandatory": ["control"], "optional": ["caps_lock"]}
					},
					"to": [
						{
							"modifiers": ["left_command"],
							"key_code": "right_arrow"
						}
					]
				},
				{
					"_comment": "Cntrol+A to Shift+Command+Left (When markset mode is enabled)",
					"type": "basic",
					"conditions": [
						{
							"type": "variable_if",
							"name": "emacs_mode_markset",
							"value": 1
						}
					],
					"from": {
						"key_code": "a",
						"modifiers": {"mandatory": ["control"], "optional": ["caps_lock"]}
					},
					"to": [
						{
							"modifiers": ["left_shift", "left_command"],
							"key_code": "left_arrow"
						}
					]
				},
				{
					"_comment": "Cntrol+E to Shift+Command+Right (When markset mode is enabled)",
					"type": "basic",
					"conditions": [
						{
							"type": "variable_if",
							"name": "emacs_mode_markset",
							"value": 1
						}
					],
					"from": {
						"key_code": "e",
						"modifiers": {"mandatory": ["control"], "optional": ["caps_lock"]}
					},
					"to": [
						{
							"modifiers": ["left_shift", "left_command"],
							"key_code": "right_arrow"
						}
					]
				}
			]
		},
		{
			"description": "Control/Option+V to PageDown/PageUp",
			"manipulators": [
				{
					"_comment": "Cntrol+V to PageDown (When markset mode is disabled)",
					"type": "basic",
					"conditions": [
						{
							"type": "variable_unless",
							"name": "emacs_mode_markset",
							"value": 1
						}
					],
					"from": {
						"key_code": "v",
						"modifiers": {"mandatory": ["control"], "optional": ["caps_lock"]}
					},
					"to": [
						{
							"key_code": "page_down"
						}
					]
				},
				{
					"_comment": "Option+V to PageUp (When markset mode is disabled)",
					"type": "basic",
					"conditions": [
						{
							"type": "variable_unless",
							"name": "emacs_mode_markset",
							"value": 1
						}
					],
					"from": {
						"key_code": "v",
						"modifiers": {"mandatory": ["option"], "optional": ["caps_lock"]}
					},
					"to": [
						{
							"key_code": "page_up"
						}
					]
				},
				{
					"_comment": "Cntrol+V to Shift+PageDown (When markset mode is enabled)",
					"type": "basic",
					"conditions": [
						{
							"type": "variable_if",
							"name": "emacs_mode_markset",
							"value": 1
						}
					],
					"from": {
						"key_code": "v",
						"modifiers": {"mandatory": ["control"], "optional": ["caps_lock"]}
					},
					"to": [
						{
							"modifiers": ["left_shift"],
							"key_code": "page_down"
						}
					]
				},
				{
					"_comment": "Option+V to Shift+PageUp (When markset mode is enabled)",
					"type": "basic",
					"conditions": [
						{
							"type": "variable_if",
							"name": "emacs_mode_markset",
							"value": 1
						}
					],
					"from": {
						"key_code": "v",
						"modifiers": {"mandatory": ["option"], "optional": ["caps_lock"]}
					},
					"to": [
						{
							"modifiers": ["left_shift"],
							"key_code": "page_up"
						}
					]
				}
			]
		},
		{
			"description": "Option+Shift+,/. to Command+Up/Down",
			"manipulators": [
				{
					"_comment": "Option+Shift+. to Command+Up (When markset mode is disabled)",
					"type": "basic",
					"conditions": [
						{
							"type": "variable_unless",
							"name": "emacs_mode_markset",
							"value": 1
						}
					],
					"from": {
						"key_code": "comma",
						"modifiers": {"mandatory": ["option", "shift"], "optional": ["caps_lock"]}
					},
					"to": [
						{
							"modifiers": ["left_command"],
							"key_code": "up_arrow"
						}
					]
				},
				{
					"_comment": "Option+Shift+. to Command+Down (When markset mode is disabled)",
					"type": "basic",
					"conditions": [
						{
							"type": "variable_unless",
							"name": "emacs_mode_markset",
							"value": 1
						}
					],
					"from": {
						"key_code": "period",
						"modifiers": {"mandatory": ["option", "shift"], "optional": ["caps_lock"]}
					},
					"to": [
						{
							"modifiers": ["left_command"],
							"key_code": "down_arrow"
						}
					]
				},
				{
					"_comment": "Option+Shift+, to Shift+Command+Up (When markset mode is enabled)",
					"type": "basic",
					"conditions": [
						{
							"type": "variable_if",
							"name": "emacs_mode_markset",
							"value": 1
						}
					],
					"from": {
						"key_code": "comma",
						"modifiers": {"mandatory": ["option", "shift"], "optional": ["caps_lock"]}
					},
					"to": [
						{
							"modifiers": ["left_shift", "left_command"],
							"key_code": "up_arrow"
						}
					]
				},
				{
					"_comment": "Option+Shift+. to Shift+Command+Down (When markset mode is enabled)",
					"type": "basic",
					"conditions": [
						{
							"type": "variable_if",
							"name": "emacs_mode_markset",
							"value": 1
						}
					],
					"from": {
						"key_code": "period",
						"modifiers": {"mandatory": ["option", "shift"], "optional": ["caps_lock"]}
					},
					"to": [
						{
							"modifiers": ["left_shift", "left_command"],
							"key_code": "down_arrow"
						}
					]
				}
			]
		},
		{
			"description": "Control+W to Command+X",
			"manipulators": [
				{
					"_comment": "Cntrol+W to Command+X and disable markset mode",
					"type": "basic",
					"conditions": [],
					"from": {
						"key_code": "w",
						"modifiers": {"mandatory": ["control"], "optional": ["caps_lock"]}
					},
					"to": [
						{
							"modifiers": ["left_command"],
							"key_code": "x"
						}
					],
					"to_after_key_up": [
						{
							"set_variable": {
								"name": "emacs_mode_markset",
								"value": 0
							}
						}
					]
				}
			]
		},
		{
			"description": "Option+W to Command+C",
			"manipulators": [
				{
					"_comment": "Option+W to Command+C and disable markset mode",
					"type": "basic",
					"conditions": [],
					"from": {
						"key_code": "w",
						"modifiers": {"mandatory": ["option"], "optional": ["caps_lock"]}
					},
					"to": [
						{
							"modifiers": ["left_command"],
							"key_code": "c"
						}
					],
					"to_after_key_up": [
						{
							"set_variable": {
								"name": "emacs_mode_markset",
								"value": 0
							}
						}
					]
				}
			]
		},
		{
			"description": "Control+Y to Command+V",
			"manipulators": [
				{
					"_comment": "Control+Y to Command+V and disable markset mode",
					"type": "basic",
					"conditions": [],
					"from": {
						"key_code": "y",
						"modifiers": {"mandatory": ["control"], "optional": ["caps_lock"]}
					},
					"to": [
						{
							"modifiers": ["left_command"],
							"key_code": "v"
						}
					],
					"to_after_key_up": [
						{
							"set_variable": {
								"name": "emacs_mode_markset",
								"value": 0
							}
						}
					]
				}
			]
		},
		{
			"description": "Control+D to Delete",
			"manipulators": [
				{
					"_comment": "Control+D to Delete and disable markset mode",
					"type": "basic",
					"conditions": [],
					"from": {
						"key_code": "d",
						"modifiers": {"mandatory": ["control"], "optional": ["caps_lock"]}
					},
					"to": [
						{
							"key_code": "delete_forward"
						}
					],
					"to_after_key_up": [
						{
							"set_variable": {
								"name": "emacs_mode_markset",
								"value": 0
							}
						}
					]
				}
			]
		},
		{
			"description": "Control+H to Backspace",
			"manipulators": [
				{
					"_comment": "Control+H to Backspace and disable markset mode",
					"type": "basic",
					"conditions": [],
					"from": {
						"key_code": "h",
						"modifiers": {"mandatory": ["control"], "optional": ["caps_lock"]}
					},
					"to": [
						{
							"key_code": "delete_or_backspace"
						}
					],
					"to_after_key_up": [
						{
							"set_variable": {
								"name": "emacs_mode_markset",
								"value": 0
							}
						}
					]
				}
			]
		},
		{
			"description": "Option+D to Option+Delete",
			"manipulators": [
				{
					"_comment": "Option+D to Option+Delete and disable markset mode",
					"type": "basic",
					"conditions": [],
					"from": {
						"key_code": "d",
						"modifiers": {"mandatory": ["option"], "optional": ["caps_lock"]}
					},
					"to": [
						{
							"modifiers": ["left_option"],
							"key_code": "delete_forward"
						}
					],
					"to_after_key_up": [
						{
							"set_variable": {
								"name": "emacs_mode_markset",
								"value": 0
							}
						}
					]
				}
			]
		},
		{
			"description": "Control+[ to Escape",
			"manipulators": [
				{
					"_comment": "Control+[ to Escape and disable markset mode",
					"type": "basic",
					"conditions": [],
					"from": {
						"key_code": "open_bracket",
						"modifiers": {"mandatory": ["control"], "optional": ["caps_lock"]}
					},
					"to": [
						{
							"key_code": "escape"
						}
					],
					"to_after_key_up": [
						{
							"set_variable": {
								"name": "emacs_mode_markset",
								"value": 0
							}
						}
					]
				}
			]
		},
		{
			"description": "Control+Space to Markset-mode",
			"manipulators": [
				{
					"_comment": "Press Control+Space and enable markset mode (When markset mode is disabled)",
					"type": "basic",
					"conditions": [
						{
							"type": "variable_unless",
							"name": "emacs_mode_markset",
							"value": 1
						}
					],
					"from": {
						"key_code": "spacebar",
						"modifiers": {"mandatory": ["control"], "optional": ["caps_lock"]}
					},
					"to": [
						{
							"set_variable": {
								"name": "emacs_mode_markset",
								"value": 1
							}
						}
					]
				},
				{
					"_comment": "Press Control+Space and disable markset mode (When markset mode is enabled)",
					"type": "basic",
					"conditions": [
						{
							"type": "variable_if",
							"name": "emacs_mode_markset",
							"value": 1
						}
					],
					"from": {
						"key_code": "spacebar",
						"modifiers": {"mandatory": ["control"], "optional": ["caps_lock"]}
					},
					"to": [
						{
							"set_variable": {
								"name": "emacs_mode_markset",
								"value": 0
							}
						}
					]
				},
				{
					"_comment": "Press Control+G and disable markset mode (When markset mode is enabled)",
					"type": "basic",
					"conditions": [
						{
							"type": "variable_if",
							"name": "emacs_mode_markset",
							"value": 1
						}
					],
					"from": {
						"key_code": "g",
						"modifiers": {"mandatory": ["control"], "optional": ["caps_lock"]}
					},
					"to": [
						{
							"set_variable": {
								"name": "emacs_mode_markset",
								"value": 0
							}
						}
					]
				},
				{
					"_comment": "Press Escape and disable markset mode (When markset mode is enabled)",
					"type": "basic",
					"conditions": [
						{
							"type": "variable_if",
							"name": "emacs_mode_markset",
							"value": 1
						}
					],
					"from": {
						"key_code": "escape",
						"modifiers": {"optional": ["caps_lock"]}
					},
					"to": [
						{
							"set_variable": {
								"name": "emacs_mode_markset",
								"value": 0
							}
						}
					]
				},
				{
					"_comment": "Press Backspace and delete selection and disable markset mode (When markset mode is enabled)",
					"type": "basic",
					"conditions": [
						{
							"type": "variable_if",
							"name": "emacs_mode_markset",
							"value": 1
						}
					],
					"from": {
						"key_code": "delete_or_backspace",
						"modifiers": {"optional": ["caps_lock"]}
					},
					"to": [
						{
							"key_code": "delete_or_backspace",
							"modifiers": []
						},
						{
							"set_variable": {
								"name": "emacs_mode_markset",
								"value": 0
							}
						}
					]
				},
				{
					"_comment": "Left to Shift+Left (When markset mode is enabled)",
					"type": "basic",
					"conditions": [
						{
							"type": "variable_if",
							"name": "emacs_mode_markset",
							"value": 1
						}
					],
					"from": {
						"key_code": "left_arrow",
						"modifiers": {"optional": ["caps_lock"]}
					},
					"to": [
						{
							"key_code": "left_arrow",
							"modifiers": ["left_shift"]
						}
					]
				},
				{
					"_comment": "Right to Shift+Right (When markset mode is enabled)",
					"type": "basic",
					"conditions": [
						{
							"type": "variable_if",
							"name": "emacs_mode_markset",
							"value": 1
						}
					],
					"from": {
						"key_code": "right_arrow",
						"modifiers": {"optional": ["caps_lock"]}
					},
					"to": [
						{
							"key_code": "right_arrow",
							"modifiers": ["left_shift"]
						}
					]
				},
				{
					"_comment": "Up to Shift+Up (When markset mode is enabled)",
					"type": "basic",
					"conditions": [
						{
							"type": "variable_if",
							"name": "emacs_mode_markset",
							"value": 1
						}
					],
					"from": {
						"key_code": "up_arrow",
						"modifiers": {"optional": ["caps_lock"]}
					},
					"to": [
						{
							"key_code": "up_arrow",
							"modifiers": ["left_shift"]
						}
					]
				},
				{
					"_comment": "Down to Shift+Down (When markset mode is enabled)",
					"type": "basic",
					"conditions": [
						{
							"type": "variable_if",
							"name": "emacs_mode_markset",
							"value": 1
						}
					],
					"from": {
						"key_code": "down_arrow",
						"modifiers": {"optional": ["caps_lock"]}
					},
					"to": [
						{
							"key_code": "down_arrow",
							"modifiers": ["left_shift"]
						}
					]
				}
			]
		}
	]
}